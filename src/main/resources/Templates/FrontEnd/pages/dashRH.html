<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dados Pessoais e Gráficos</title>
       <link rel="stylesheet" href="rh.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<header>
    <img src="logo_Turnover.png">
</header>
    <div class="search-container">
        <h2>Pesquisar Funcionários</h2>
        <form id="searchForm">
            <div class="form-group">
                <label for="searchType">Buscar por:</label>
                <select id="searchType" name="searchType" onchange="filterTable()">
                    <option value="">Selecione</option>
                    <option value="department">Departamento</option>
                    <option value="position">Cargo</option>
                </select>
            </div>
            <div class="form-group">
                <label for="searchValue">Valor:</label>
                <input type="text" id="searchValue" name="searchValue" oninput="filterTable()">
            </div>
        </form>
    </div>

    <div class="table-container">
        <table id="employeesTable">
            <thead>
                <tr>
                    <th>Nome Completo</th>
                    <th>Salário</th>
                    <th>CPF</th>
                    <th>Setor</th>
                    <th>Carga Horária</th>
                    <th>Data de Contratação</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>João Silva</td><td>R$ 4.500,00</td><td>123.456.789-00</td><td>Vendas</td><td>8 horas/dia</td><td>2015-01-15</td></tr>
                <tr><td>Maria Oliveira</td><td>R$ 5.200,00</td><td>987.654.321-00</td><td>Marketing</td><td>8 horas/dia</td><td>2016-02-20</td></tr>
                <tr><td>Carlos Pereira</td><td>R$ 3.800,00</td><td>456.789.123-00</td><td>TI</td><td>8 horas/dia</td><td>2017-03-25</td></tr>
                <tr><td>Ana Costa</td><td>R$ 6.000,00</td><td>321.654.987-00</td><td>RH</td><td>8 horas/dia</td><td>2018-04-30</td></tr>
                <tr><td>Pedro Santos</td><td>R$ 4.700,00</td><td>789.123.456-00</td><td>Vendas</td><td>8 horas/dia</td><td>2019-05-05</td></tr>
                <tr><td>Lucas Mendes</td><td>R$ 3.200,00</td><td>654.321.987-00</td><td>Marketing</td><td>8 horas/dia</td><td>2020-06-10</td></tr>
                <tr><td>Fernanda Lima</td><td>R$ 5.500,00</td><td>123.789.456-00</td><td>TI</td><td>8 horas/dia</td><td>2021-07-15</td></tr>
                <tr><td>Rafael Nunes</td><td>R$ 4.100,00</td><td>987.321.654-00</td><td>RH</td><td>8 horas/dia</td><td>2022-08-20</td></tr>
                <tr><td>Bruna Alves</td><td>R$ 6.500,00</td><td>456.123.789-00</td><td>Vendas</td><td>8 horas/dia</td><td>2023-09-25</td></tr>
                <tr><td>Marcelo Dias</td><td>R$ 3.900,00</td><td>654.987.321-00</td><td>Marketing</td><td>8 horas/dia</td><td>2016-10-30</td></tr>
                <tr><td>Juliana Rocha</td><td>R$ 4.800,00</td><td>789.456.123-00</td><td>TI</td><td>8 horas/dia</td><td>2017-11-05</td></tr>
                <tr><td>Thiago Borges</td><td>R$ 5.300,00</td><td>321.123.987-00</td><td>RH</td><td>8 horas/dia</td><td>2018-12-10</td></tr>
                <tr><td>Vanessa Souza</td><td>R$ 4.200,00</td><td>987.654.123-00</td><td>Vendas</td><td>8 horas/dia</td><td>2019-01-15</td></tr>
                <tr><td>Roberto Ferreira</td><td>R$ 6.800,00</td><td>123.456.987-00</td><td>Marketing</td><td>8 horas/dia</td><td>2020-02-20</td></tr>
                <tr><td>Paula Martins</td><td>R$ 3.600,00</td><td>654.789.321-00</td><td>TI</td><td>8 horas/dia</td><td>2021-03-25</td></tr>
                <tr><td>Adriana Gomes</td><td>R$ 5.700,00</td><td>789.321.456-00</td><td>RH</td><td>8 horas/dia</td><td>2022-04-30</td></tr>
            </tbody>
        </table>
    </div>

    <div class="charts-container">
        <div class="chart-container">
            <h2>Distribuição de Funcionários por Setor</h2>
            <canvas id="departmentPieChart"></canvas>
        </div>
        <div class="chart-container">
            <h2>Contratações por Ano</h2>
            <canvas id="hiringBarChart"></canvas>
        </div>
    </div>

    <div class="form-container">
        <h2>Cadastro de Funcionários</h2>
        <form id="employeeForm">
            <div class="form-group">
                <label for="fullName">Nome Completo:</label>
                <input type="text" id="fullName" name="fullName" required>
            </div>
            <div class="form-group">
                <label for="email">E-mail:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="position">Cargo:</label>
                <input type="text" id="position" name="position" required>
            </div>
            <div class="form-group">
                <label for="workHours">Carga Horária:</label>
                <input type="text" id="workHours" name="workHours" value="8 horas/dia" readonly>
            </div>
            <div class="form-group">
                <label for="department">Departamento:</label>
                <select id="department" name="department" required>
                    <option value="Vendas">Vendas</option>
                    <option value="Marketing">Marketing</option>
                    <option value="TI">TI</option>
                    <option value="RH">RH</option>
                </select>
            </div>
            <div class="form-group">
                <button type="button" onclick="createEmployee()">Criar</button>
                <button type="button" onclick="viewEmployee()">Visualizar</button>
                <button type="button" onclick="editEmployee()">Editar</button>
                <button type="button" onclick="deleteEmployee()">Excluir</button>
            </div>
        </form>
    </div>

    <script>
        // Gráfico de Pizza - Pessoas por Setor
        const ctxPie = document.getElementById('departmentPieChart').getContext('2d');
        const departmentPieChart = new Chart(ctxPie, {
            type: 'pie',
            data: {
                labels: ['Vendas', 'Marketing', 'TI', 'RH'],
                datasets: [{
                    label: 'Pessoas por Setor',
                    data: [4, 4, 4, 3], // Dados de exemplo
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)'
                    ],
                    borderWidth: 1
                }]
            }
        });

        // Gráfico de Barra - Contratações por Ano
        const ctxBar = document.getElementById('hiringBarChart').getContext('2d');
        const hiringBarChart = new Chart(ctxBar, {
            type: 'bar',
            data: {
                labels: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023'],
                datasets: [{
                    label: 'Contratações por Ano',
                    data: [1, 2, 2, 2, 2, 2, 2, 2, 1], // Dados de exemplo
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Função para filtrar a tabela
        function filterTable() {
            const searchType = document.getElementById('searchType').value;
            const searchValue = document.getElementById('searchValue').value.toLowerCase();
            const table = document.getElementById('employeesTable');
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');

            for (let i = 0; i < rows.length; i++) {
                const cells = rows[i].getElementsByTagName('td');
                let match = false;

                // Verifica o tipo de busca e o valor a ser filtrado
                if (searchType === 'department' && cells[3].textContent.toLowerCase().includes(searchValue)) {
                    match = true;
                } else if (searchType === 'position' && cells[0].textContent.toLowerCase().includes(searchValue)) {
                    match = true;
                } else if (searchType === '') {
                    match = true; // Mostra todas as linhas se nenhum filtro estiver aplicado
                }

                rows[i].style.display = match ? '' : 'none';
            }
        }

        // Funções para os botões de controle da tabela
        function includeEmployee() {
            alert('Função de inclusão de funcionário não implementada.');
        }

        function createEmployee() {
            const form = document.getElementById('employeeForm');
            if (form.checkValidity()) {
                alert('Funcionário criado com sucesso!');
                form.reset();
            } else {
                alert('Por favor, preencha todos os campos obrigatórios.');
            }
        }

        function viewEmployee() {
            alert('Função de visualização de funcionário não implementada.');
        }

        function editEmployee() {
            alert('Função de edição de funcionário não implementada.');
        }

        function deleteEmployee() {
            alert('Função de exclusão de funcionário não implementada.');
        }
    </script>
</body>
</html>
